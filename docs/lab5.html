<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>5&nbsp; Regression ‚Äì MKTG212 Labs</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./lab4.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-364982630eef5352dd1537128a8ed5cb.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./lab5.html"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Regression</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">MKTG212 Labs</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab1.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting started with SPSS</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Descriptive Statistics, Graphs and Charts in SPSS</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab3.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Crosstabs and Two Independent Samples T-test</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab4.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">ANOVA and Experimentation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./lab5.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Regression</span></span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#learning-objectives" id="toc-learning-objectives" class="nav-link active" data-scroll-target="#learning-objectives"><span class="header-section-number">5.1</span> Learning objectives</a></li>
  <li><a href="#why-regression" id="toc-why-regression" class="nav-link" data-scroll-target="#why-regression"><span class="header-section-number">5.2</span> Why Regression</a></li>
  <li><a href="#conducting-multiple-regression-with-spss" id="toc-conducting-multiple-regression-with-spss" class="nav-link" data-scroll-target="#conducting-multiple-regression-with-spss"><span class="header-section-number">5.3</span> Conducting Multiple Regression with SPSS</a></li>
  <li><a href="#multicollinearity-problems" id="toc-multicollinearity-problems" class="nav-link" data-scroll-target="#multicollinearity-problems"><span class="header-section-number">5.4</span> Multicollinearity Problems</a></li>
  <li><a href="#if-multicollinearity-exists" id="toc-if-multicollinearity-exists" class="nav-link" data-scroll-target="#if-multicollinearity-exists"><span class="header-section-number">5.5</span> If Multicollinearity Exists</a></li>
  <li><a href="#video" id="toc-video" class="nav-link" data-scroll-target="#video"><span class="header-section-number">5.6</span> Video</a></li>
  <li><a href="#spss-workshop-5-quick-task-guide" id="toc-spss-workshop-5-quick-task-guide" class="nav-link" data-scroll-target="#spss-workshop-5-quick-task-guide"><span class="header-section-number">6</span> SPSS Workshop 5: Quick Task Guide</a>
  <ul class="collapse">
  <li><a href="#core-analytical-tasks" id="toc-core-analytical-tasks" class="nav-link" data-scroll-target="#core-analytical-tasks"><span class="header-section-number">6.1</span> üéØ Core Analytical Tasks</a></li>
  <li><a href="#essential-concepts-step-by-step-workflow" id="toc-essential-concepts-step-by-step-workflow" class="nav-link" data-scroll-target="#essential-concepts-step-by-step-workflow"><span class="header-section-number">6.2</span> üí° Essential Concepts &amp; Step-by-Step Workflow</a>
  <ul class="collapse">
  <li><a href="#the-complete-regression-workflow" id="toc-the-complete-regression-workflow" class="nav-link" data-scroll-target="#the-complete-regression-workflow"><span class="header-section-number">6.2.1</span> 1. The Complete Regression Workflow</a></li>
  <li><a href="#interpreting-key-outputs" id="toc-interpreting-key-outputs" class="nav-link" data-scroll-target="#interpreting-key-outputs"><span class="header-section-number">6.2.2</span> 2. Interpreting Key Outputs</a></li>
  <li><a href="#dealing-with-multicollinearity" id="toc-dealing-with-multicollinearity" class="nav-link" data-scroll-target="#dealing-with-multicollinearity"><span class="header-section-number">6.2.3</span> 3. Dealing with Multicollinearity</a></li>
  </ul></li>
  <li><a href="#step-by-step-practice-task" id="toc-step-by-step-practice-task" class="nav-link" data-scroll-target="#step-by-step-practice-task"><span class="header-section-number">6.3</span> ‚ñ∂Ô∏è Step-by-Step Practice Task</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-lab5" class="quarto-section-identifier"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Regression</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Data: RobotGLP.sav (available on Moodle)</p>
<section id="learning-objectives" class="level2" data-number="5.1">
<h2 data-number="5.1" class="anchored" data-anchor-id="learning-objectives"><span class="header-section-number">5.1</span> Learning objectives</h2>
<p>The aim of this lab is to help you to use SPSS to conduct regression analysis, which is useful in explaining the relationship between a set of <em>independent</em> variables and a <em>dependent variable</em>.</p>
<p>At the end of this lab, we hope that you will be able to</p>
<ul>
<li><p>Understand the meaning of independent and dependent variables</p></li>
<li><p>Select appropriate independent variables to explain a dependent variable</p></li>
<li><p>Produce and interpret basic SPSS outputs for multiple regression</p></li>
<li><p>Understand the meaning of multicollinearity, how to detect and remedy it</p></li>
</ul>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>FYI, many students of the previous cohorts used regression when they wrote their MSc dissertations.</p>
</div>
</div>
</section>
<section id="why-regression" class="level2" data-number="5.2">
<h2 data-number="5.2" class="anchored" data-anchor-id="why-regression"><span class="header-section-number">5.2</span> Why Regression</h2>
<p>In marketing research, we often need to determine the impact of a set of marketing variables on one variable ‚Äì a factor we want to understand or predict. Furthermore, among those variables we may want to find out which variables matter most, and which variables are not so important that we can ignore. Regression analysis can help us findings the answers to these questions.</p>
<p>In this workshop, we want to investigate factors that influence consumers‚Äô decision to join a green loyalty program ‚Äì This LP encourages behaviours from hotel guests that are good for environment (e.g., reuse towels).</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="images/lab5_robot.jpg" class="img-fluid figure-img" style="width:50.0%"></p>
<figcaption>Hotel receptionist (Image courtesy of Jingxi)</figcaption>
</figure>
</div>
<p>In this lab, we consider the following case. A hotel manager who recently launch a green loyalty program (GLP) wants to know about factors that affect consumers‚Äô intention to join the hotel GLP. The hotel manager decides to develop a survey and asks the hotel‚Äôs guests to fill in an offline survey. The survey form was handed in to hotel guests by a frontline service robot (see the image above). The survey contains items to measure the following constructs:</p>
<ul>
<li><p>Intention to join the green loyalty program</p></li>
<li><p>Anticipated guilt if not joining the green loyalty program</p></li>
<li><p>Perceived attractiveness of hotel receptionist</p></li>
<li><p>Age</p></li>
<li><p>Gender</p></li>
</ul>
<p><code>Anticipated guilt</code>, <code>Perceived Attractiveness</code>, <code>Age</code>, <code>Gender</code> are called the independent variables and <code>Intention to join the green loyalty program</code> is the dependent variable. The notion of the dependent variable comes from our prediction that its value depends on the values of the independent variables. The relationship between <code>Intention to join the green LP</code> the and the four independent variables can be written as:</p>
<p>Intention to join the green LP ~ Anticipated Guilt + Perceived Attractiveness + Age + Gender + error.</p>
<p>You can read the above expression as a consumer‚Äô intention to join the green loyalty program is influenced by the consumer‚Äôs anticipated of guilt, perceived attractiveness, age, and gender, and some unknown factors represented by an error term. The relationship can be represented by a mathematical expression as below. The names of the variables are shortened.</p>
<span class="math display">\[\begin{equation}
Intent = \beta_0 +  \beta_1 * Guilt + \beta_2 * Attract + \beta_3 * Age + \beta_4 * Gender.
\end{equation}\]</span>
<p>where <span class="math inline">\(\beta_0\)</span>, <span class="math inline">\(\beta_1\)</span>, <span class="math inline">\(\beta_2\)</span>, <span class="math inline">\(\beta_3\)</span>, and <span class="math inline">\(\beta_4\)</span> are parameters that capture the impact of each of the independent variables on <code>intention</code>.</p>
<p>We use regression procedure in SPSS to find out the estimates for all parameters using sample data (<span class="math inline">\(\beta_0\)</span> is just a constant so it is not of our interest).</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Variable <code>Intent</code>, <code>Guilt</code>, and <code>Attract</code> were average scores of a multi-item scale where each item in the scale were measured using a Likert scale ranging from 1 = strongly disagree to 7=strongly agree. <code>Age</code> is a continuous variable, and <code>Gender</code> is a 0,1 variable.</p>
</div>
</div>
<p>If you want to examine whether <code>Guilt</code> is a significant factor, then you want to test <span class="math inline">\(H0\)</span>: <span class="math inline">\(\beta_1=0\)</span> against <span class="math inline">\(H1\)</span>: <span class="math inline">\(\beta_1 \ne 0\)</span>. SPSS will report the p-value associated with <span class="math inline">\(H0\)</span>. If p-value is less than 0.05, you reject <span class="math inline">\(H0\)</span> otherwise retain it. If you reject <span class="math inline">\(H0\)</span>, you can conclude that <code>Guilt</code> is a significant factor that influences <code>intent</code>.</p>
<p>If you hypothesize that <code>Guilt</code> is a significant factor and has a positive impact on satisfaction, then you want to test <span class="math inline">\(H0\)</span>: <span class="math inline">\(\beta_1=0\)</span> against <span class="math inline">\(H1\)</span>: <span class="math inline">\(\beta_1 &gt; 0\)</span>. This is a one-sided test because the alternative hypothesis has a ‚Äògreater‚Äô sign. <strong>However, SPSS will always report the p-value associated with 2-sided test</strong>. Therefore, you have to divide the reported p-value by 2. If this <strong>halved p-value</strong> (i.e., p-value/2) is less than 0.05, you reject <span class="math inline">\(H0\)</span> otherwise retain it. If you reject <span class="math inline">\(H0\)</span>, you can conclude that <code>Guilt</code> has a significant positive influence on <code>Intent</code>.</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>SPSS will always report the p-value associated with 2-sided test.</p>
<p>For one-sided test, you have to divide the reported p-value by half.</p>
</div>
</div>
</section>
<section id="conducting-multiple-regression-with-spss" class="level2" data-number="5.3">
<h2 data-number="5.3" class="anchored" data-anchor-id="conducting-multiple-regression-with-spss"><span class="header-section-number">5.3</span> Conducting Multiple Regression with SPSS</h2>
<p><strong>Open RobotGLP.sav</strong> ‚Äì Thanks to <a href="https://www.research.lancs.ac.uk/portal/en/people/jingxi-huang(b7eacd2f-0786-430a-ba51-776c57c8c86a).html">Jingxi</a> for allowing us to use a subset of her data to test the above model.</p>
<p>To conduct a regression analysis in SPSS, click the following: <strong>Analyze</strong><span class="math inline">\(\rightarrow\)</span><strong>Regression</strong><span class="math inline">\(\rightarrow\)</span><strong>Linear.</strong></p>
<p>Enter <code>Intent</code> into the dependent variable box.</p>
<p>Enter <code>Guilt</code>,<code>Attract</code>, <code>Age,</code>Gender` into the independent variable(s) box.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/lab5_ols.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:70.0%"></p>
</figure>
</div>
<p>Click <code>OK</code></p>
<p>SPSS produces four tables. The first one does not offer much information. Therefore, we focus our attention to the next three tables.</p>
<ol type="1">
<li><p>ANOVA table: Is the model meaningful?</p>
<p><img src="images/lab5_anova.png" class="img-fluid" style="width:70.0%"></p></li>
</ol>
<p>This table tells whether or not the model is meaningful. If the sig value is less than 0.05, then the model is meaningful. If p-value is greater than 0.05, then model should be dismissed and don‚Äôt interpret other outputs. In this example, the sig. value is less than 0.05; therefore we have a meaningful model. We can proceed with the next output.</p>
<ol start="2" type="1">
<li>Model Summary table: How good is the model?</li>
</ol>
<p>Having known the model is meaningful, how do we know whether it is good enough? The Model Summary table provides the answer to this question.</p>
<p><img src="images/lab5_rsq.png" class="img-fluid" style="width:70.0%"></p>
<p>The model summary table tells you how well the independent variables explain variation in the dependent variable. The adjusted <span class="math inline">\(R^2\)</span> is 0.311 indicating that about 31% of the variation in the intention score is explained by the four independent variables (Guilt, Attract, Age, and Gender). Theoretically, the maximum possible value for adjusted R-square is 100% indicating a perfect model!</p>
<p>Adjusted <span class="math inline">\(R^2\)</span> is <span class="math inline">\(R^2\)</span> that is adjusted for the number of independent variables in the model. The more independent variable you have in the model, the larger the <span class="math inline">\(R^2\)</span> will be. The adjusted <span class="math inline">\(R^2\)</span> prevents the inflation. You can use the following convention to qualify the impact of the set of the independent variables on the dependent variable<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>:</p>
<p><span class="math inline">\(R^2\)</span> ‚â• 0.02 small effect</p>
<p>‚â• 0.13 medium</p>
<p>‚â• 0.26 large</p>
<div class="callout callout-style-default callout-important callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Important
</div>
</div>
<div class="callout-body-container callout-body">
<p>Knowing the adjusted <span class="math inline">\(R^2\)</span>, indicate the strength of the impact of Guilt, Attract, Age, and Gender.</p>
</div>
</div>
<div class="callout callout-style-default callout-warning callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Warning
</div>
</div>
<div class="callout-body-container callout-body">
<p>Maximizing <span class="math inline">\(R^2\)</span> value should not be your main goal in regression. Do not be tempted to select variables with the aim of increasing <span class="math inline">\(R^2\)</span> value. <span class="math inline">\(R^2\)</span> value in social sciences are typically in the range of 0.1 to 0.5. Selecting variables should be motivated by theories.</p>
</div>
</div>
<ol start="3" type="1">
<li>Coefficients</li>
</ol>
<p><img src="images/lab5_coefs.png" class="img-fluid" style="width:110.0%"></p>
<p>This table tells us which of the independent variables significantly explain or predict the dependent variable. In this case three variables significantly explain <code>Intent</code>. These are <code>Guilt</code>, <code>Attract</code>, and <code>Age</code>, whereas <code>Gender</code> is not significant. Furthermore, the standardized beta values tell us which variable has the strongest impact on <code>Intent</code>. In this case <code>Attract</code> is the strongest predictor followed by <code>Guilt</code> and <code>Age</code>.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you want to make a prediction, use the unstandardized coefficients (B). If a female respondent aged 20 assigned a rating of three on <code>Guilt</code>, <code>Attract</code> can you predict her intention level? (round-off your answer)</p>
</div>
</div>
</section>
<section id="multicollinearity-problems" class="level2" data-number="5.4">
<h2 data-number="5.4" class="anchored" data-anchor-id="multicollinearity-problems"><span class="header-section-number">5.4</span> Multicollinearity Problems</h2>
<p>High correlation among independent variables is problematic in multiple regression because it is hard for us to determine the individual contribution of each of the independent variables in the model. For example, if <code>Attract</code> is highly correlated with <code>Guilt</code>, then we cannot conclude that <code>Attract</code> have the strongest influence on <code>Intent</code> because <code>Guilt</code> also gives contribution to the magnitude of Attract-Intent relationship (it looks stronger than it should be). In other words, the coefficients associated with the regression estimates are biased ‚Äì not the same as their true population values.</p>
<p>The situation where an independent variable is highly correlated with another variable is referred to as multicollinearity problem. To diagnose whether multicollinearity exists, you can check it in two ways.</p>
<ol type="1">
<li>Inspect the correlation coefficient among the independent variables. To do correlation analysis in SPSS, follow this step: <strong>Analyze</strong><span class="math inline">\(\rightarrow\)</span><strong>Correlation</strong><span class="math inline">\(\rightarrow\)</span><strong>Bivariate</strong>. If two variables is highly correlated with the correlation coefficient is larger than 0.9, your model may suffer from a multicollinearity problem. In practice, you should be cautious, if the correlation is 0.7.</li>
</ol>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task
</div>
</div>
<div class="callout-body-container callout-body">
<p>Check the correlation coefficients among the predictors in the model.</p>
</div>
</div>
<ol start="2" type="1">
<li>Rerun your regression.</li>
</ol>
<ul>
<li><p>Click: <strong>Analyze</strong><span class="math inline">\(\rightarrow\)</span><strong>Regression</strong><span class="math inline">\(\rightarrow\)</span><strong>Linear</strong>.</p></li>
<li><p>Click <code>Statistics</code> options.</p></li>
<li><p>Select <code>Collinearity diagnostic</code>. Click <code>Continue</code> and Click <code>OK</code>.</p></li>
<li><p>Inspect the <strong>VIF (Variance Inflation Factor</strong> values in the output.</p></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>Multicollinearity exists if VIF (variance inflation factor) &gt; 10.</p>
</div>
</div>
<p><img src="images/lab5_vif.png" class="img-fluid" style="width:110.0%"></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Task
</div>
</div>
<div class="callout-body-container callout-body">
<p>See the above output, does the model suffer from a multicollinearity problem?</p>
</div>
</div>
</section>
<section id="if-multicollinearity-exists" class="level2" data-number="5.5">
<h2 data-number="5.5" class="anchored" data-anchor-id="if-multicollinearity-exists"><span class="header-section-number">5.5</span> If Multicollinearity Exists</h2>
<p>What should you do if multicollinearity exists?</p>
<p>You can deal with it using one of the following techniques:</p>
<ol type="1">
<li><p>Omit one or more highly correlated independent variables</p></li>
<li><p>Create a composite variable e.g., by taking the average score of two variables if the two variables causes multicollinearity <strong>averaging</strong> or using Principle Component Analysis (beyond the scope of our workshops)</p></li>
<li><p>Use the model that suffers from multicollinearity but for prediction purposes only.</p></li>
<li><p>Collect more samples</p></li>
</ol>
</section>
<section id="video" class="level2" data-number="5.6">
<h2 data-number="5.6" class="anchored" data-anchor-id="video"><span class="header-section-number">5.6</span> Video</h2>
<p><a href="https://dtu-panopto.lancs.ac.uk/Panopto/Pages/Viewer.aspx?id=074239e8-f79d-4ffb-8754-ac9400f4f00f">Regression with a categorical iv</a></p>
</section>
<section id="spss-workshop-5-quick-task-guide" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> SPSS Workshop 5: Quick Task Guide</h1>
<section id="core-analytical-tasks" class="level2" data-number="6.1">
<h2 data-number="6.1" class="anchored" data-anchor-id="core-analytical-tasks"><span class="header-section-number">6.1</span> üéØ Core Analytical Tasks</h2>
<table class="caption-top table">
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Task / Objective</th>
<th style="text-align: left;">SPSS Menu Path</th>
<th style="text-align: left;">Key Variables / Settings</th>
<th style="text-align: left;">Key Notes &amp; Interpretation</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><strong>Run a Multiple Regression</strong></td>
<td style="text-align: left;"><code>Analyze</code> ‚Üí <code>Regression</code> ‚Üí <code>Linear...</code></td>
<td style="text-align: left;"><strong>Dependent:</strong> <code>Intent</code><br><strong>Independent(s):</strong> <code>Guilt</code>, <code>Attract</code>, <code>Age</code>, <code>Gender</code></td>
<td style="text-align: left;">Tests if a set of independent variables predicts a continuous dependent variable.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Check Overall Model Fit &amp; Significance</strong></td>
<td style="text-align: left;">Output: <code>ANOVA</code> Table</td>
<td style="text-align: left;">N/A</td>
<td style="text-align: left;">Check the <strong>Sig.</strong> value (p-value). <strong>p &lt; 0.05</strong> means the overall regression model is statistically meaningful. If p &gt; 0.05, do not interpret further.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Assess Model Explanatory Power</strong></td>
<td style="text-align: left;">Output: <code>Model Summary</code> Table</td>
<td style="text-align: left;">Look at <strong>Adjusted R Square</strong></td>
<td style="text-align: left;">Indicates the <strong>percentage of variance</strong> in the dependent variable explained by the model. <strong>Guidelines:</strong> ‚â• 0.02 (small), ‚â• 0.13 (medium), ‚â• 0.26 (large).</td>
</tr>
<tr class="even">
<td style="text-align: left;"><strong>Interpret Individual Predictors</strong></td>
<td style="text-align: left;">Output: <code>Coefficients</code> Table</td>
<td style="text-align: left;">Check <strong>Sig.</strong>, <strong>B</strong>, and <strong>Beta</strong> columns</td>
<td style="text-align: left;"><strong>Significance:</strong> <code>Sig. &lt; 0.05</code> = variable is a significant predictor.<br><strong>Strength:</strong> Compare <strong>Standardized Coefficients (Beta)</strong>; higher absolute value = stronger effect.<br><strong>Prediction:</strong> Use <strong>Unstandardized Coefficients (B)</strong> in the regression equation.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><strong>Diagnose Multicollinearity</strong></td>
<td style="text-align: left;">1. <strong>Correlation:</strong> <code>Analyze</code> ‚Üí <code>Correlate</code> ‚Üí <code>Bivariate</code><br>2. <strong>VIF:</strong> In Linear Regression dialog, click <code>Statistics</code> ‚Üí Check <code>Collinearity diagnostics</code></td>
<td style="text-align: left;">Check correlation matrix and VIF values</td>
<td style="text-align: left;"><strong>Problem if:</strong> Correlation between predictors &gt; <strong>0.7</strong> (caution) or &gt; <strong>0.9</strong> (serious).<br><strong>Or if:</strong> <strong>VIF &gt; 10</strong> in the coefficients table.</td>
</tr>
</tbody>
</table>
</section>
<section id="essential-concepts-step-by-step-workflow" class="level2" data-number="6.2">
<h2 data-number="6.2" class="anchored" data-anchor-id="essential-concepts-step-by-step-workflow"><span class="header-section-number">6.2</span> üí° Essential Concepts &amp; Step-by-Step Workflow</h2>
<section id="the-complete-regression-workflow" class="level3" data-number="6.2.1">
<h3 data-number="6.2.1" class="anchored" data-anchor-id="the-complete-regression-workflow"><span class="header-section-number">6.2.1</span> 1. The Complete Regression Workflow</h3>
<ol type="1">
<li><strong>Run the Regression:</strong> <code>Analyze</code> ‚Üí <code>Regression</code> ‚Üí <code>Linear</code>. Specify your dependent (<code>Intent</code>) and independent variables (<code>Guilt</code>, <code>Attract</code>, <code>Age</code>, <code>Gender</code>).</li>
<li><strong>Check Overall Model:</strong> Look at the <strong>ANOVA table</strong>. <strong>Proceed only if Sig. (p) &lt; 0.05</strong>.</li>
<li><strong>Check Explanatory Power:</strong> Look at the <strong>Adjusted R¬≤</strong> in the <code>Model Summary</code> table.</li>
<li><strong>Interpret Predictors:</strong> In the <code>Coefficients</code> table:
<ul>
<li>Identify significant predictors (<code>Sig. &lt; 0.05</code>).</li>
<li>Use <strong>Beta</strong> to compare the relative strength of significant predictors.</li>
</ul></li>
<li><strong>Check for Multicollinearity:</strong> Re-run regression with <code>Collinearity diagnostics</code> in <code>Statistics</code>. Ensure all <strong>VIF values are &lt; 10</strong>.</li>
</ol>
</section>
<section id="interpreting-key-outputs" class="level3" data-number="6.2.2">
<h3 data-number="6.2.2" class="anchored" data-anchor-id="interpreting-key-outputs"><span class="header-section-number">6.2.2</span> 2. Interpreting Key Outputs</h3>
<ul>
<li><strong>The Regression Equation:</strong> Use the <em>Unstandardized Coefficients (B)</em> to form the equation for prediction: <code>Intent = B‚ÇÄ + (B‚ÇÅ * Guilt) + (B‚ÇÇ * Attract) + (B‚ÇÉ * Age) + (B‚ÇÑ * Gender)</code></li>
<li><strong>Making a Prediction (Example from Lab Task):</strong> For a female (<code>Gender=1</code>), aged 20, with <code>Guilt=3</code> and <code>Attract=5</code>:
<ol type="1">
<li>Find the <em>B</em> coefficients and constant from your output.</li>
<li>Plug into equation: <code>Intent = B‚ÇÄ + (B‚ÇÅ * Guilt) + (B‚ÇÇ * Attract) + (B‚ÇÉ * Age) + (B‚ÇÑ * Gender)</code></li>
<li>Calculate to predict the intention score.</li>
</ol></li>
<li><strong>One-tailed vs.&nbsp;Two-tailed Tests:</strong> SPSS reports <strong>two-tailed p-values</strong>. For a <strong>one-tailed test</strong> (directional hypothesis, e.g., <code>H1: Œ≤‚ÇÅ &gt; 0</code>), <strong>divide the reported p-value by 2</strong>.</li>
</ul>
</section>
<section id="dealing-with-multicollinearity" class="level3" data-number="6.2.3">
<h3 data-number="6.2.3" class="anchored" data-anchor-id="dealing-with-multicollinearity"><span class="header-section-number">6.2.3</span> 3. Dealing with Multicollinearity</h3>
<p>If you detect multicollinearity (VIF &gt; 10 or very high correlations), consider these remedies: 1. <strong>Remove Variables:</strong> Omit one of the highly correlated independent variables. 2. <strong>Combine Variables:</strong> Create a composite score (e.g., average) if the correlated variables measure a similar construct. 3. <strong>Purpose-Limited Use:</strong> Use the model <strong>only for prediction</strong>, not for interpreting individual coefficients. 4. <strong>Collect More Data:</strong> Increase your sample size.</p>
</section>
</section>
<section id="step-by-step-practice-task" class="level2" data-number="6.3">
<h2 data-number="6.3" class="anchored" data-anchor-id="step-by-step-practice-task"><span class="header-section-number">6.3</span> ‚ñ∂Ô∏è Step-by-Step Practice Task</h2>
<ol type="1">
<li><strong>Run the Analysis:</strong> Open <code>RobotGLP.sav</code>. Run <code>Analyze</code> ‚Üí <code>Regression</code> ‚Üí <code>Linear</code> with <code>Intent</code> as Dependent and <code>Guilt</code>, <code>Attract</code>, <code>Age</code>, <code>Gender</code> as Independents. Click <code>OK</code>.</li>
<li><strong>Interpret Model Fit:</strong>
<ul>
<li><strong>ANOVA Table:</strong> Is the overall model significant (Sig. &lt; 0.05)?</li>
<li><strong>Model Summary:</strong> What is the Adjusted R¬≤? How would you describe its size?</li>
</ul></li>
<li><strong>Interpret Predictors:</strong> In the <code>Coefficients</code> table:
<ul>
<li>Which variables are significant predictors of <code>Intent</code> (Sig. &lt; 0.05)?</li>
<li>Among the significant ones, which has the strongest effect (largest absolute <strong>Beta</strong> value)?</li>
</ul></li>
<li><strong>Check for Multicollinearity:</strong>
<ul>
<li>Re-run the regression, clicking <code>Statistics</code> and checking <code>Collinearity diagnostics</code>.</li>
<li>Check the VIF values in the new <code>Coefficients</code> table. Is multicollinearity a problem (VIF &gt; 10)?</li>
</ul></li>
<li><strong>Make a Prediction:</strong> Use the <em>Unstandardized Coefficients (B)</em> to predict the <code>Intent</code> score for a 20-year-old female with <code>Guilt=3</code> and <code>Attract=5</code>.</li>
</ol>
<hr>


</section>
</section>
<section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes">
<hr>
<ol>
<li id="fn1"><p>Ellis, Paul D. 2011. The Essential Guide to Effect Sizes, p.41<a href="#fnref1" class="footnote-back" role="doc-backlink">‚Ü©Ô∏é</a></p></li>
</ol>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./lab4.html" class="pagination-link" aria-label="ANOVA and Experimentation">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">ANOVA and Experimentation</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
  </div>
</nav>
</div> <!-- /content -->




</body></html>